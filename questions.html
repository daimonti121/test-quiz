<!DOCTYPE html>
<html>
<head>
  <title>jQuery Quiz</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<style>
  /* #quiz-restart-btn {
    display: none !important;
  } */
</style>
<body>
<div id="quiz">
  <div id="quiz-header">
    <h1>Basic Quiz Demo</h1>
    <p><a id="quiz-home-btn">Home</a></p>
  </div>
  <div id="quiz-start-screen">
    <p><a href="#" id="quiz-start-btn" class="quiz-button">Start</a></p>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="dist/jquery.quiz-min.js"></script>
<script>
  let allAnswers = 0;
  let correctAnswers = 0; 

  $('#quiz').quiz({
      resultsScreen: '#results-screen',
      counter: false,
      homeButton: '#custom-home',
      answerCallback: function () {
        allAnswers++
        if (arguments.length === 2 && arguments[1]) correctAnswers++
        if (
          arguments.length === 3 &&
          arguments[2].correctIndex === arguments[1]
        )
          correctAnswers++
      },
      finishCallback: function () {
        const grade = correctAnswers / allAnswers
        let page = 1
        if (grade == 1) {
          page = 5
        } else if (grade < 1 && grade > 0.6) {
          page = 4
        } else if (grade <= 0.6 && grade > 0.4 ) {
          page = 3
        } else if (grade <= 0.4 && grade > 0.2) {
          page = 2
        } else if (grade <= 0.2) {
          page = 1
        } else if (grade <= 0.1) {
          page = 0
        }
        console.log(grade, page);
        location.href=`page_${page}.html`;
      },
      counterFormat: 'Question %current of %total',
      questions: [
        {
          'q': 'A sample question?',
          'options': [
            'Answer 1',
            'Answer 2',
            'Answer 3',
            'Answer 4'
          ],
          'correctIndex': 1,
          'correctResponse': 'Custom correct response.',
          'incorrectResponse': 'Custom incorrect response.'
        },
        {
          'q': 'What is this image? <img src="https://picsum.photos/100/100">',
          'options': [
            'Answer 1',
            'Answer 2'
          ],
          'correctIndex': 1,
          'correctResponse': 'Custom correct response.',
          'incorrectResponse': 'Custom incorrect response.'
        },
        {
          'q': 'Which image is the correct answer?',
          'options': [
            '<img src="https://picsum.photos/100/100">',
            '<img src="https://picsum.photos/100/100">'
          ],
          'correctIndex': 0,
          'correctResponse': 'Custom correct response.',
          'incorrectResponse': 'Custom incorrect response.'
        },
        {
          'q': 'A sample question?',
          'options': [
            'Answer 1',
            'Answer 2'
          ],
          'correctIndex': 1,
          'correctResponse': 'Custom correct response.',
          'incorrectResponse': 'Custom incorrect response.'
        },
        {
          'q': 'A sample question?',
          'options': [
            'Answer 1',
            'Answer 2',
            'Answer 3',
            'Answer 4'
          ],
          'correctIndex': 3,
          'correctResponse': 'Custom correct response.',
          'incorrectResponse': 'Custom incorrect response.'
        }
      ]
    });
</script>
</body>
</html>